<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸¬è©¦ - å¾…è¾¦äº‹é …æ¸…å–®</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f0f0f0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #45a049;
        }
        input {
            padding: 8px;
            margin: 5px;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
        .todo-item {
            background: #f9f9f9;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 3px solid #4CAF50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª å¾…è¾¦äº‹é …æ¸¬è©¦é é¢</h1>
        
        <div class="test-section">
            <h3>æ¸¬è©¦åŸºæœ¬åŠŸèƒ½</h3>
            <button onclick="testBasicFunctions()">æ¸¬è©¦åŸºæœ¬åŠŸèƒ½</button>
            <button onclick="testAddTodo()">æ¸¬è©¦æ–°å¢å¾…è¾¦äº‹é …</button>
            <button onclick="testLocalStorage()">æ¸¬è©¦æœ¬åœ°å„²å­˜</button>
            <button onclick="clearAll()">æ¸…é™¤æ‰€æœ‰è³‡æ–™</button>
        </div>
        
        <div class="test-section">
            <h3>æ–°å¢æ¸¬è©¦å¾…è¾¦äº‹é …</h3>
            <input type="text" id="testInput" placeholder="è¼¸å…¥æ¸¬è©¦å…§å®¹" value="æ¸¬è©¦å¾…è¾¦äº‹é …">
            <input type="date" id="testDate" value="">
            <button onclick="addTestTodo()">æ–°å¢æ¸¬è©¦é …ç›®</button>
        </div>
        
        <div class="test-section">
            <h3>é¡¯ç¤ºæ‰€æœ‰å¾…è¾¦äº‹é …</h3>
            <div id="todoDisplay"></div>
        </div>
        
        <div class="test-section">
            <h3>æ§åˆ¶å°è¼¸å‡º</h3>
            <p>è«‹é–‹å•Ÿç€è¦½å™¨çš„é–‹ç™¼è€…å·¥å…·ï¼ˆF12ï¼‰æŸ¥çœ‹æ§åˆ¶å°è¼¸å‡º</p>
        </div>
    </div>

    <script>
        // è¨­å®šä»Šå¤©çš„æ—¥æœŸ
        document.getElementById('testDate').value = new Date().toISOString().split('T')[0];
        
        function testBasicFunctions() {
            console.log('=== æ¸¬è©¦åŸºæœ¬åŠŸèƒ½ ===');
            console.log('ç•¶å‰æ™‚é–“:', new Date());
            console.log('localStorage å¯ç”¨:', typeof(Storage) !== "undefined");
            console.log('JSON å¯ç”¨:', typeof(JSON) !== "undefined");
            console.log('DOM è¼‰å…¥å®Œæˆ');
        }
        
        function testAddTodo() {
            console.log('=== æ¸¬è©¦æ–°å¢å¾…è¾¦äº‹é … ===');
            const text = document.getElementById('testInput').value;
            const date = document.getElementById('testDate').value;
            
            if (!text || !date) {
                alert('è«‹è¼¸å…¥å…§å®¹å’Œé¸æ“‡æ—¥æœŸï¼');
                return;
            }
            
            const todo = {
                id: Date.now(),
                text: text,
                date: date,
                color: '#000000',
                completed: false,
                createdAt: new Date().toISOString()
            };
            
            console.log('æ–°å¢çš„å¾…è¾¦äº‹é …:', todo);
            
            // å„²å­˜åˆ° localStorage
            const todos = JSON.parse(localStorage.getItem('todos')) || [];
            todos.push(todo);
            localStorage.setItem('todos', JSON.stringify(todos));
            
            console.log('å„²å­˜æˆåŠŸï¼ç•¶å‰å¾…è¾¦äº‹é …æ•¸é‡:', todos.length);
            displayTodos();
        }
        
        function testLocalStorage() {
            console.log('=== æ¸¬è©¦æœ¬åœ°å„²å­˜ ===');
            const todos = JSON.parse(localStorage.getItem('todos')) || [];
            console.log('localStorage ä¸­çš„å¾…è¾¦äº‹é …:', todos);
            console.log('å¾…è¾¦äº‹é …æ•¸é‡:', todos.length);
        }
        
        function displayTodos() {
            const todos = JSON.parse(localStorage.getItem('todos')) || [];
            const display = document.getElementById('todoDisplay');
            
            if (todos.length === 0) {
                display.innerHTML = '<p>æ²’æœ‰å¾…è¾¦äº‹é …</p>';
                return;
            }
            
            display.innerHTML = todos.map(todo => `
                <div class="todo-item">
                    <strong>${todo.text}</strong><br>
                    æ—¥æœŸ: ${todo.date}<br>
                    ç‹€æ…‹: ${todo.completed ? 'å·²å®Œæˆ' : 'æœªå®Œæˆ'}<br>
                    ID: ${todo.id}
                </div>
            `).join('');
        }
        
        function clearAll() {
            if (confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰è³‡æ–™å—ï¼Ÿ')) {
                localStorage.removeItem('todos');
                console.log('æ‰€æœ‰è³‡æ–™å·²æ¸…é™¤');
                displayTodos();
            }
        }
        
        // é é¢è¼‰å…¥æ™‚é¡¯ç¤ºå¾…è¾¦äº‹é …
        window.onload = function() {
            console.log('é é¢è¼‰å…¥å®Œæˆ');
            testBasicFunctions();
            displayTodos();
        };
    </script>
</body>
</html>

